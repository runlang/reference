<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Run Language</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="runlang.html" class="tocviewselflink" data-pltdoc="x">Run Language</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="runlang.html#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="runlang.html#%28part._.Background%29" class="tocviewlink" data-pltdoc="x">Background</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="runlang.html#%28part._.Goals%29" class="tocviewlink" data-pltdoc="x">Goals</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="runlang.html#%28part._.Non-.Goals%29" class="tocviewlink" data-pltdoc="x">Non-<wbr></wbr>Goals</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="runlang.html#%28part._.Typing%29" class="tocviewlink" data-pltdoc="x">Typing</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="runlang.html#%28part._.Expressions%29" class="tocviewlink" data-pltdoc="x">Expressions</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Run_.Language%29" class="tocsubseclink" data-pltdoc="x">Run Language</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Background%29" class="tocsubseclink" data-pltdoc="x">Background</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Goals%29" class="tocsubseclink" data-pltdoc="x">Goals</a></td></tr><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._.Platform_.Pervasiveness%29" class="tocsubseclink" data-pltdoc="x">Platform Pervasiveness</a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#%28part._.Compilation%29" class="tocsubseclink" data-pltdoc="x">Compilation</a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#%28part._.Ease_of_.Comprehension%29" class="tocsubseclink" data-pltdoc="x">Ease of Comprehension</a></td></tr><tr><td><span class="tocsublinknumber">3.4<tt>&nbsp;</tt></span><a href="#%28part._.Intent_.Retention%29" class="tocsubseclink" data-pltdoc="x">Intent Retention</a></td></tr><tr><td><span class="tocsublinknumber">3.5<tt>&nbsp;</tt></span><a href="#%28part._.Observability%29" class="tocsubseclink" data-pltdoc="x">Observability</a></td></tr><tr><td><span class="tocsublinknumber">3.6<tt>&nbsp;</tt></span><a href="#%28part._.Continuous_.Capture%29" class="tocsubseclink" data-pltdoc="x">Continuous Capture</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Non-.Goals%29" class="tocsubseclink" data-pltdoc="x">Non-<wbr></wbr>Goals</a></td></tr><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._.Self-hosting%29" class="tocsubseclink" data-pltdoc="x">Self-<wbr></wbr>hosting</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Typing%29" class="tocsubseclink" data-pltdoc="x">Typing</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.Expressions%29" class="tocsubseclink" data-pltdoc="x">Expressions</a></td></tr><tr><td><span class="tocsublinknumber">6.1<tt>&nbsp;</tt></span><a href="#%28part._.Comments%29" class="tocsubseclink" data-pltdoc="x">Comments</a></td></tr><tr><td><span class="tocsublinknumber">6.2<tt>&nbsp;</tt></span><a href="#%28part._.Literals%29" class="tocsubseclink" data-pltdoc="x">Literals</a></td></tr><tr><td><span class="tocsublinknumber">6.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Booleans%29" class="tocsubseclink" data-pltdoc="x">Booleans</a></td></tr><tr><td><span class="tocsublinknumber">6.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Strings%29" class="tocsubseclink" data-pltdoc="x">Strings</a></td></tr><tr><td><span class="tocsublinknumber">6.2.3<tt>&nbsp;</tt></span><a href="#%28part._.Numbers%29" class="tocsubseclink" data-pltdoc="x">Numbers</a></td></tr><tr><td><span class="tocsublinknumber">6.2.4<tt>&nbsp;</tt></span><a href="#%28part._.Integers%29" class="tocsubseclink" data-pltdoc="x">Integers</a></td></tr><tr><td><span class="tocsublinknumber">6.2.5<tt>&nbsp;</tt></span><a href="#%28part._.Floating-point%29" class="tocsubseclink" data-pltdoc="x">Floating-<wbr></wbr>point</a></td></tr><tr><td><span class="tocsublinknumber">6.2.6<tt>&nbsp;</tt></span><a href="#%28part._.Scientific_.Notation%29" class="tocsubseclink" data-pltdoc="x">Scientific Notation</a></td></tr><tr><td><span class="tocsublinknumber">6.3<tt>&nbsp;</tt></span><a href="#%28part._.Call%29" class="tocsubseclink" data-pltdoc="x">Call</a></td></tr><tr><td><span class="tocsublinknumber">6.4<tt>&nbsp;</tt></span><a href="#%28part._.Logical_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Logical Expressions</a></td></tr><tr><td><span class="tocsublinknumber">6.5<tt>&nbsp;</tt></span><a href="#%28part._.Comparison_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Comparison Expressions</a></td></tr><tr><td><span class="tocsublinknumber">6.6<tt>&nbsp;</tt></span><a href="#%28part._.Arithmetic_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Arithmetic Expressions</a></td></tr><tr><td><span class="tocsublinknumber">6.7<tt>&nbsp;</tt></span><a href="#%28part._.Grouping_.Expresssion%29" class="tocsubseclink" data-pltdoc="x">Grouping Expresssion</a></td></tr><tr><td><span class="tocsublinknumber">6.7.1<tt>&nbsp;</tt></span><a href="#%28part._.Precedence%29" class="tocsubseclink" data-pltdoc="x">Precedence</a></td></tr><tr><td><span class="tocsublinknumber">6.8<tt>&nbsp;</tt></span><a href="#%28part._.Block%29" class="tocsubseclink" data-pltdoc="x">Block</a></td></tr><tr><td><span class="tocsublinknumber">6.9<tt>&nbsp;</tt></span><a href="#%28part._.Pure_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Pure Expressions</a></td></tr><tr><td><span class="tocsublinknumber">6.10<tt>&nbsp;</tt></span><a href="#%28part._.Conditional_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Conditional Expressions</a></td></tr><tr><td><span class="tocsublinknumber">6.11<tt>&nbsp;</tt></span><a href="#%28part._.Concurrent_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Concurrent Expressions</a></td></tr><tr><td><span class="tocsublinknumber">6.12<tt>&nbsp;</tt></span><a href="#%28part._.Undo_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Undo Expressions</a></td></tr><tr><td><span class="tocsublinknumber">6.13<tt>&nbsp;</tt></span><a href="#%28part._.Definition_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Definition Expressions</a></td></tr><tr><td><span class="tocsublinknumber">6.14<tt>&nbsp;</tt></span><a href="#%28part._.Iteration%29" class="tocsubseclink" data-pltdoc="x">Iteration</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">00a913e
</span></div><h2><a name="(part._.Run_.Language)"></a>Run Language</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Yurii Rashkovskii &lt;<a href="mailto:yrashk@gmail.com">yrashk@gmail.com</a>&gt;</p></span></div><p>This is a working draft of the Run Language motivation, specification
and reasoning.</p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Introduction%29" class="toptoclink" data-pltdoc="x">1<span class="hspace">&nbsp;</span>Introduction</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Background%29" class="toptoclink" data-pltdoc="x">2<span class="hspace">&nbsp;</span>Background</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Goals%29" class="toptoclink" data-pltdoc="x">3<span class="hspace">&nbsp;</span>Goals</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Platform_.Pervasiveness%29" class="toclink" data-pltdoc="x">3.1<span class="hspace">&nbsp;</span>Platform Pervasiveness</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Compilation%29" class="toclink" data-pltdoc="x">3.2<span class="hspace">&nbsp;</span>Compilation</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Ease_of_.Comprehension%29" class="toclink" data-pltdoc="x">3.3<span class="hspace">&nbsp;</span>Ease of Comprehension</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Intent_.Retention%29" class="toclink" data-pltdoc="x">3.4<span class="hspace">&nbsp;</span>Intent Retention</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Observability%29" class="toclink" data-pltdoc="x">3.5<span class="hspace">&nbsp;</span>Observability</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Continuous_.Capture%29" class="toclink" data-pltdoc="x">3.6<span class="hspace">&nbsp;</span>Continuous Capture</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Non-.Goals%29" class="toptoclink" data-pltdoc="x">4<span class="hspace">&nbsp;</span>Non-Goals</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Self-hosting%29" class="toclink" data-pltdoc="x">4.1<span class="hspace">&nbsp;</span>Self-hosting</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Typing%29" class="toptoclink" data-pltdoc="x">5<span class="hspace">&nbsp;</span>Typing</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Expressions%29" class="toptoclink" data-pltdoc="x">6<span class="hspace">&nbsp;</span>Expressions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Comments%29" class="toclink" data-pltdoc="x">6.1<span class="hspace">&nbsp;</span>Comments</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Literals%29" class="toclink" data-pltdoc="x">6.2<span class="hspace">&nbsp;</span>Literals</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Booleans%29" class="toclink" data-pltdoc="x">6.2.1<span class="hspace">&nbsp;</span>Booleans</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Strings%29" class="toclink" data-pltdoc="x">6.2.2<span class="hspace">&nbsp;</span>Strings</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Numbers%29" class="toclink" data-pltdoc="x">6.2.3<span class="hspace">&nbsp;</span>Numbers</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Integers%29" class="toclink" data-pltdoc="x">6.2.4<span class="hspace">&nbsp;</span>Integers</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Floating-point%29" class="toclink" data-pltdoc="x">6.2.5<span class="hspace">&nbsp;</span>Floating-point</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Scientific_.Notation%29" class="toclink" data-pltdoc="x">6.2.6<span class="hspace">&nbsp;</span>Scientific Notation</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Call%29" class="toclink" data-pltdoc="x">6.3<span class="hspace">&nbsp;</span>Call</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Logical_.Expressions%29" class="toclink" data-pltdoc="x">6.4<span class="hspace">&nbsp;</span>Logical Expressions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Comparison_.Expressions%29" class="toclink" data-pltdoc="x">6.5<span class="hspace">&nbsp;</span>Comparison Expressions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Arithmetic_.Expressions%29" class="toclink" data-pltdoc="x">6.6<span class="hspace">&nbsp;</span>Arithmetic Expressions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Grouping_.Expresssion%29" class="toclink" data-pltdoc="x">6.7<span class="hspace">&nbsp;</span>Grouping Expresssion</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Precedence%29" class="toclink" data-pltdoc="x">6.7.1<span class="hspace">&nbsp;</span>Precedence</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Block%29" class="toclink" data-pltdoc="x">6.8<span class="hspace">&nbsp;</span>Block</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Pure_.Expressions%29" class="toclink" data-pltdoc="x">6.9<span class="hspace">&nbsp;</span>Pure Expressions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Conditional_.Expressions%29" class="toclink" data-pltdoc="x">6.10<span class="hspace">&nbsp;</span>Conditional Expressions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Concurrent_.Expressions%29" class="toclink" data-pltdoc="x">6.11<span class="hspace">&nbsp;</span>Concurrent Expressions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Undo_.Expressions%29" class="toclink" data-pltdoc="x">6.12<span class="hspace">&nbsp;</span>Undo Expressions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Definition_.Expressions%29" class="toclink" data-pltdoc="x">6.13<span class="hspace">&nbsp;</span>Definition Expressions</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="runlang.html#%28part._.Iteration%29" class="toclink" data-pltdoc="x">6.14<span class="hspace">&nbsp;</span>Iteration</a></p></td></tr></table><h3>1<tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h3><p>Clarity in business processes spanning organizational structures,
software systems and domains is an ongoing concern. Runaway complexity,
underspecified procedures lead to erroneous actions or lack of appropriate
actions, increase management overhead and inflate costs of automation and its maintenance.</p><p>Run is a modern, high-level language for defining, deploying and
maintaining the lifecycle of executable business processes that is designed
to address such concerns.</p><h3>2<tt>&nbsp;</tt><a name="(part._.Background)"></a>Background</h3><p><span class="refelem"><span class="refcolumn"><span class="refcontent">There are a lot of existing business process languages, including but not
limited to BPDM, BPEL4WS, BPML, BPMN, BPSS, EPML, OWL-S, PNML, UML Activity Diagram, WS-CDL,
WSCI, WSCL, WSFL, XLANG, XPD, XPDL, YAWL</span></span></span>
In the past few decades, a lot of efforts have been made to formalize workflow
patterns into a language that can be used by non-technical and technical stakeholders
alike in order to maintain a shared understanding of processes, reasoning and decision
making. This has resulted in development and adoption of such languages as BPEL, BPMN, YAWL
and alike.</p><p>In this section, for the purpose of clarity, we&rsquo;ll focus on BPMN as a baseline.
It&rsquo;s a well-established and documented language supported by multiple software vendors.</p><p>There are a few important properties that BPMN has:</p><ul><li><p>Visual language (flow diagrams) that provides a comprehensive, bird&rsquo;s-eye view</p></li><li><p>Execution semantics that allow for a mechanical interpretation (<span style="font-style: italic">execution</span>) of documents</p></li><li><p>Introduction of useful standard workflow primitives such as events, boundary events,
timers, compensations and so on to enable standardized handling of complex cases</p></li></ul><p>BPMN does come with some trade offs:</p><ul><li><p><span class="refelem"><span class="refcolumn"><span class="refcontent">Examples:

<span style="font-style: italic">Complex Gateway</span>, what does it do?

What&rsquo;s the difference between a <span style="font-style: italic">signal</span> and a <span style="font-style: italic">message</span>?
How does message delivery differ based on the kind of <span style="font-style: italic">correlation</span> used?</span></span></span>
The flow elements have their execution semantics defined and one needs to know
to construct the flow in a correct manner. Therefore, it implies the need for
a translation between processes laid out in a natural language to the language
of activation of flow elements according to their execution semantics. So, instead of describing
what <span style="font-style: italic">needs to occur</span>, one needs to model according to what the flow element or their composition
will do. It gets especially challenging when flow element&rsquo;s own naming does not reveal its function.</p></li><li><p>Authoring diagrams is not the most natural user experience. A significant amount
of research needs to be done in order to figure out a truly effective way to author diagrams,
considering the amount of possibilities afforded by the standard. It becomes even more difficult
if the document needs to be executable, as it&rsquo;ll start requiring changes of authoring mode between the diagram,
flow element properties and text-based expressions.</p></li><li><p>Authoring programs (because executable documents are effectively programs) as diagrams is not the most
anticipated approach for most of software engineers and it is not the best fit for their tooling and practices.
While BPMN documents are XML documents and can be edited as text, at that point they become counter-productive
as authoring through long-winded XML formalisms makes it difficult to both write and read them, therefore defying
the core promise of providing understanding and a high-level view.</p></li><li><p>Lack of composition. While almost any workflow can be expressed in BPMN, it can become repetitive if certain
patterns are to occur repeatedly. As an example, we can imagine a case for re-trying an activity with an exponential
backoff, with a maximum number of retries. It&rsquo;s implementable, but copying it around can quickly become a chore and be error-prone.</p></li><li><p>Lack of first-class execution tracing. <span style="font-style: italic">TO BE CONTINUED</span></p></li></ul><p><span style="font-weight: bold">We propose</span> that one can derive benefits from patterns identified in by BPMN
and similar approaches while mitigating the aforementioned trade-offs by introducing a
high level text-based language that focuses on <span style="font-style: italic">what needs to occur</span> as opposed to
connecting flow elements that have their own behavior. It will allow to express complex
behaviours that don&rsquo;t need to be deconstructed through the prism of flow elements&rsquo;
execution semantics.</p><p>The language should be at least somewhat familiar to software engineers to be
accepted as a reasonable tool in their toolbox and play well with established
practices.</p><p>At the same time, the language should bear at least some level of general
readability to avoid it being a complete gibberish for those who aren&rsquo;t software
engineers.</p><p>The language should also retain the high level intent of the authors in order to
be transformable to and from different representations, such as visual diagrams
(as these are indeed very useful for process comprehension).</p><p>This document introduces the <span style="font-weight: bold">Run Language</span> to address this proposition.</p><h3>3<tt>&nbsp;</tt><a name="(part._.Goals)"></a>Goals</h3><h4>3.1<tt>&nbsp;</tt><a name="(part._.Platform_.Pervasiveness)"></a>Platform Pervasiveness</h4><p>It is important that Run programs can operate in different environments and platforms, such as
servers and workstations, mobile devices, browsers, microcontrollers, etc. Being able to describe
processes that span operational backends, consumer and IoT devices allows for most comprehensive
capture of the domain.</p><h4>3.2<tt>&nbsp;</tt><a name="(part._.Compilation)"></a>Compilation</h4><p>Run is intended to be run using a small specialized VM (<span style="font-style: italic">Virtual Machine</span>) in order to spare
each platforms from implementing a parser and a high-level interpreter. This ensures it is easier
to implement Run environments on any platform.</p><p>Going further, it is highly desirable to make language compilable to other targets, such as <span style="font-style: italic">native code</span>
(for <span style="font-weight: bold">performance</span>), other languages (for <span style="font-weight: bold">cohesive integration</span>) and special environment languages,
such as <span style="font-style: italic">smart contract languages</span> in <span style="font-weight: bold">blockchains</span> or <span style="font-style: italic">verification</span> languages such as
<a href="http://why3.lri.fr/doc/syntaxref.html">WhyML</a> for <span style="font-weight: bold">critical processes</span>.</p><h4>3.3<tt>&nbsp;</tt><a name="(part._.Ease_of_.Comprehension)"></a>Ease of Comprehension</h4><p>Run programs should be easily comprehensible in their textual and other representations with little familiarity
of its specifics. In other words, programs should be self-explanatory at least at a high-level.</p><p>Ease of comprehension affects many areas of language&rsquo;s design: from syntax, semantics to naming and other conventions.</p><h4>3.4<tt>&nbsp;</tt><a name="(part._.Intent_.Retention)"></a>Intent Retention</h4><p>To the extent possible, Run programs should be able to retain the original intent of the author
without having it conceptualized using a different domain language.</p><p>This specification expends an effort to avoid <span style="font-style: italic">naming things</span> where possible in order to avoid
such conceptualization.</p><h4>3.5<tt>&nbsp;</tt><a name="(part._.Observability)"></a>Observability</h4><p><span style="font-style: italic">TO BE CONTINUED</span></p><h4>3.6<tt>&nbsp;</tt><a name="(part._.Continuous_.Capture)"></a>Continuous Capture</h4><p>Run acknowledges that the world never stops and changes continue to occur. To that end, it is designed
to support continuous information passage. This is also known as <span style="font-style: italic">streaming</span>.</p><h3>4<tt>&nbsp;</tt><a name="(part._.Non-.Goals)"></a>Non-Goals</h3><h4>4.1<tt>&nbsp;</tt><a name="(part._.Self-hosting)"></a>Self-hosting</h4><p>Run is intended to be a high-level language, gluing other systems and orchestrating the workflows. It is
not intended to be a general purpose language and there&rsquo;s little to no benefit in making it possible to
implement Run in Run.</p><h3>5<tt>&nbsp;</tt><a name="(part._.Typing)"></a>Typing</h3><p>Run employs a lightweight static typing system to ensure that the values used throughout
its programs can be validated ahead of execution.</p><p><span style="font-style: italic">TO BE CONTINUED</span></p><h3>6<tt>&nbsp;</tt><a name="(part._.Expressions)"></a>Expressions</h3><p>This section presents basic expressions (building blocks) of the core language. More forms are introduced in other
sections.</p><h4>6.1<tt>&nbsp;</tt><a name="(part._.Comments)"></a>Comments</h4><p>Comments are considered expressions because they can be used to annotate the program and these annotations
can be used when transforming programs to other representations, such as diagrams. Even more importantly,
since they are considered first-class expressions, they can be used in place of other <span style="font-style: italic">executable</span>
expressions in under-specified programs that can only be executed in simulation that assigns typed values
to these expressions.</p><p>Line comments start with a double-slash (<span class="RktInBG"><span class="hspace"></span><span class="RktIn">//</span><span class="hspace"></span></span>) or a pound (hash) sign (<span class="RktInBG"><span class="hspace"></span><span class="RktIn">#</span><span class="hspace"></span></span>) and run until the end of the line
or the end of the file (whichever occurs first)</p><p>Block comments start with a slash followed by an asterisk (<span class="RktInBG"><span class="hspace"></span><span class="RktIn">/*</span><span class="hspace"></span></span>) and run until a closing asterisk followed
by a slash (<span class="RktInBG"><span class="hspace"></span><span class="RktIn">*/</span><span class="hspace"></span></span>). Nested block comments are supported.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktCmt">#</span><span class="hspace">&nbsp;</span><span class="RktCmt">This</span><span class="hspace">&nbsp;</span><span class="RktCmt">is</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">line</span><span class="hspace">&nbsp;</span><span class="RktCmt">comment</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">This</span><span class="hspace">&nbsp;</span><span class="RktCmt">is</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">line</span><span class="hspace">&nbsp;</span><span class="RktCmt">comment</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktCmt">/*</span><span class="hspace">&nbsp;</span><span class="RktCmt">This</span><span class="hspace">&nbsp;</span><span class="RktCmt">is</span><span class="hspace">&nbsp;</span><span class="RktCmt">a</span><span class="hspace">&nbsp;</span><span class="RktCmt">block</span><span class="hspace">&nbsp;</span><span class="RktCmt">comment</span></td></tr><tr><td><span class="RktCmt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">that</span><span class="hspace">&nbsp;</span><span class="RktCmt">spans</span><span class="hspace">&nbsp;</span><span class="RktCmt">multiple</span><span class="hspace">&nbsp;</span><span class="RktCmt">lines</span></td></tr><tr><td><span class="RktCmt">*/</span><span class="RktMeta"></span></td></tr></table></blockquote><h4>6.2<tt>&nbsp;</tt><a name="(part._.Literals)"></a>Literals</h4><p>Literals are expressions that evaluate to themselves.</p><h5>6.2.1<tt>&nbsp;</tt><a name="(part._.Booleans)"></a>Booleans</h5><p>Boolean can be either <span class="RktSym">true</span><span class="RktMeta"></span> or <span class="RktSym">false</span><span class="RktMeta"></span>.</p><h5>6.2.2<tt>&nbsp;</tt><a name="(part._.Strings)"></a>Strings</h5><p>Strings are UTF-8 encoded Unicode strings and are enclosed between matching double (<span class="RktInBG"><span class="hspace"></span><span class="RktIn">"</span><span class="hspace"></span></span>) quotes. The double quote character can be
escaped with a blackslash (<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\</span><span class="hspace"></span></span>). Backslash can be escaped with an extra backslash.</p><p>Strings can span multiple lines. If follow-up lines are indented to start at a column following the column of the opening quote,
the leading whitespace will be removed.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktVal">"This</span><span class="hspace">&nbsp;</span><span class="RktVal">is</span><span class="hspace">&nbsp;</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">string"</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktVal">"This</span><span class="hspace">&nbsp;</span><span class="RktVal">is</span><span class="hspace">&nbsp;</span><span class="RktVal">what</span><span class="hspace">&nbsp;</span><span class="RktVal">we</span><span class="hspace">&nbsp;</span><span class="RktVal">call</span><span class="hspace">&nbsp;</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">\"string\""</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktVal">"This</span><span class="hspace">&nbsp;</span><span class="RktVal">is</span><span class="hspace">&nbsp;</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">blackslash:</span><span class="hspace">&nbsp;</span><span class="RktVal">\\"</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktVal">"This</span><span class="hspace">&nbsp;</span><span class="RktVal">is</span><span class="hspace">&nbsp;</span><span class="RktVal">a</span></td></tr><tr><td><span class="RktVal"></span><span class="hspace">&nbsp;</span><span class="RktVal">multi-line</span><span class="hspace">&nbsp;</span><span class="RktVal">string"</span><span class="RktMeta"></span></td></tr></table></blockquote><h5>6.2.3<tt>&nbsp;</tt><a name="(part._.Numbers)"></a>Numbers</h5><p>Numbers can be either integers or floating-point numbers.</p><h5>6.2.4<tt>&nbsp;</tt><a name="(part._.Integers)"></a>Integers</h5><p>Decimal integers are of the following format: &lsquo;[-](0-9)+&lsquo; and can be interspersed with underscore (&lsquo;_&lsquo;) to ease comprehension (&lsquo;100_000_000&lsquo; being
equivalent to &lsquo;100000000&lsquo;). The underscore can not be adjacent to period (&lsquo;.&lsquo;) or the optional sign.</p><p>Binary integers can be encoded using the notation of leading zero and a lowercase letter &rsquo;b&rsquo; (&lsquo;0b&lsquo;) followed by a sequences of zeroes and ones.</p><p>Octal integers can be encoded using the notation of leading zero and a lowercase leter &rsquo;o&rsquo; (&lsquo;0o&lsquo;) followed by a sequence of &lsquo;0-7&lsquo;.</p><p>Hexadecimal integers can be encoded using the notation of leading zero and a lowercase letter &rsquo;x&rsquo; (&lsquo;0x&lsquo;) followed by a sequence of &lsquo;0-F&lsquo;.</p><p>All binary, octal and hexadecimal integers can be interspersed with underscore (&lsquo;_&lsquo;) to ease comprehension as well. They can not, however, start with the
underscore.</p><h5>6.2.5<tt>&nbsp;</tt><a name="(part._.Floating-point)"></a>Floating-point</h5><p>Decimal floating-point numbers are of the following format: &lsquo;[-](0-9)+\.(0-9)+&lsquo; and can be interspersed with underscore (&lsquo;_&lsquo;) to ease comprehension (&lsquo;100_000_000.00&lsquo; being
equivalent to &lsquo;100000000.00&lsquo;). The underscore can not be adjacent to period (&lsquo;.&lsquo;) or the optional sign.</p><h5>6.2.6<tt>&nbsp;</tt><a name="(part._.Scientific_.Notation)"></a>Scientific Notation</h5><p>Scientific notation can also be used. It follows the format of &lsquo;[-](0-9)+(\.(0-9)+)?[E|e]-?(0-9)+&lsquo;. It can also be interspersed with underscore (&lsquo;_&lsquo;) to ease comprehension except
adjacent to &lsquo;E&lsquo; or &lsquo;e&lsquo; and the (optional) sign.</p><h4>6.3<tt>&nbsp;</tt><a name="(part._.Call)"></a>Call</h4><p>This is one of the most useful building blocks. Since Run Language is mostly seen as a glue to connect various pieces, it needs to call into other systems, as well as being
able to re-use building blocks defined in it.</p><p><span style="font-style: italic">TO BE CONTINUED</span></p><h4>6.4<tt>&nbsp;</tt><a name="(part._.Logical_.Expressions)"></a>Logical Expressions</h4><ul><li><p><span style="font-weight: bold">Logical AND</span>: <span class="RktSym">expr1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">and</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">expr2</span><span class="RktMeta"></span> is a boolean expression stating that both <span class="RktSym">expr1</span><span class="RktMeta"></span> and <span class="RktSym">expr2</span><span class="RktMeta"></span> have to be <span class="RktSym">true</span><span class="RktMeta"></span> in order for this expression to be <span class="RktSym">true</span><span class="RktMeta"></span></p></li><li><p><span style="font-weight: bold">Logical OR</span>: <span class="RktSym">expr1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">or</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">expr2</span><span class="RktMeta"></span> is a boolean expression stating that either <span class="RktSym">expr1</span><span class="RktMeta"></span> or <span class="RktSym">expr2</span><span class="RktMeta"></span> have to be <span class="RktSym">true</span><span class="RktMeta"></span> in order for this expression to be <span class="RktSym">true</span><span class="RktMeta"></span></p></li><li><p><span style="font-weight: bold">Logical NOT</span>: <span class="RktSym">not</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">expr</span><span class="RktMeta"></span> is a boolean expression stating that <span class="RktSym">expr</span><span class="RktMeta"></span> should be <span class="RktSym">false</span><span class="RktMeta"></span> in order for this expression to be <span class="RktSym">true</span><span class="RktMeta"></span></p></li></ul><h4>6.5<tt>&nbsp;</tt><a name="(part._.Comparison_.Expressions)"></a>Comparison Expressions</h4><ul><li><p><span style="font-weight: bold">Equal</span>: <span class="RktSym">expr</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">==</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">expr2</span><span class="RktMeta"></span> is a boolean expression stating that <span class="RktSym">expr1</span><span class="RktMeta"></span> must be equal to <span class="RktSym">expr2</span><span class="RktMeta"></span> in order for this expression to be <span class="RktSym">true</span><span class="RktMeta"></span></p></li><li><p><span style="font-weight: bold">Unequal</span>: <span class="RktSym">expr</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">!=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">expr2</span><span class="RktMeta"></span> is a boolean expression stating that <span class="RktSym">expr1</span><span class="RktMeta"></span> must not be equal to <span class="RktSym">expr2</span><span class="RktMeta"></span> in order for this expression to be <span class="RktSym">true</span><span class="RktMeta"></span></p></li><li><p><span style="font-weight: bold">Less</span>: <span class="RktSym">expr</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">&lt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">expr2</span><span class="RktMeta"></span> is a boolean expression stating that <span class="RktSym">expr1</span><span class="RktMeta"></span> must be strictly less than <span class="RktSym">expr2</span><span class="RktMeta"></span> in order for this expression to be <span class="RktSym">true</span><span class="RktMeta"></span></p></li><li><p><span style="font-weight: bold">Less or equal</span>: <span class="RktSym">expr</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">&lt;=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">expr2</span><span class="RktMeta"></span> is a boolean expression stating that <span class="RktSym">expr1</span><span class="RktMeta"></span> must less than or equal to <span class="RktSym">expr2</span><span class="RktMeta"></span> in order for this expression to be <span class="RktSym">true</span><span class="RktMeta"></span></p></li><li><p><span style="font-weight: bold">Greater</span>: <span class="RktSym">expr</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">&gt;</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">expr2</span><span class="RktMeta"></span> is a boolean expression stating that <span class="RktSym">expr1</span><span class="RktMeta"></span> must be strictly greater than <span class="RktSym">expr2</span><span class="RktMeta"></span> in order for this expression to be <span class="RktSym">true</span><span class="RktMeta"></span></p></li><li><p><span style="font-weight: bold">Greater or equal</span>: <span class="RktSym">expr</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">&gt;=</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">expr2</span><span class="RktMeta"></span> is a boolean expression stating that <span class="RktSym">expr1</span><span class="RktMeta"></span> must greater than or equal to <span class="RktSym">expr2</span><span class="RktMeta"></span> in order for this expression to be <span class="RktSym">true</span><span class="RktMeta"></span></p></li></ul><h4>6.6<tt>&nbsp;</tt><a name="(part._.Arithmetic_.Expressions)"></a>Arithmetic Expressions</h4><p><span style="font-style: italic">TO BE CONTINUED</span></p><h4>6.7<tt>&nbsp;</tt><a name="(part._.Grouping_.Expresssion)"></a>Grouping Expresssion</h4><p>Expressions can be groupped using parentheses: ( and ). For example, <span class="RktVal">1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">+</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2</span><span class="RktMeta"></span> evaluates to <span class="RktVal">5</span><span class="RktMeta"></span>, but <span class="RktPn">(</span><span class="RktVal">1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">+</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">*</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2</span><span class="RktMeta"></span> evaluates to <span class="RktVal">6</span><span class="RktMeta"></span>.</p><h5>6.7.1<tt>&nbsp;</tt><a name="(part._.Precedence)"></a>Precedence</h5><p><span style="font-style: italic">TO BE CONTINUED</span></p><h4>6.8<tt>&nbsp;</tt><a name="(part._.Block)"></a>Block</h4><p>A block expression is simply a grouped sequence of expressions enclosed within curly brackets. It implies sequential interpretation of these contained expressions.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">expression</span><span class="hspace">&nbsp;</span><span class="RktCmt">E_0</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">...</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">//</span><span class="hspace">&nbsp;</span><span class="RktCmt">expression</span><span class="hspace">&nbsp;</span><span class="RktCmt">E_n</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr></table></blockquote><h4>6.9<tt>&nbsp;</tt><a name="(part._.Pure_.Expressions)"></a>Pure Expressions</h4><p>All expressions that are idempotent and have no side effects are considered pure. The best way to think of this is to consider a class of expressions
that do not alter the state of the execution in any way (even such as making any calls, even if they are idempotent).</p><h4>6.10<tt>&nbsp;</tt><a name="(part._.Conditional_.Expressions)"></a>Conditional Expressions</h4><p>A conditional <span class="RktSym">if</span><span class="RktMeta"></span> expression is used to make a choice based on a boolean-typed <span style="font-style: italic">pure expression</span>
<span class="refelem"><span class="refcolumn"><span class="refcontent">Purety of the condition expression is important to ensure that it can be executed any number of times without any effect to the execution</span></span></span>
(<span style="font-style: italic">condition</span>), followed by a block expression to execute in case if the boolean expression evaluated to <span class="RktSym">true</span><span class="RktMeta"></span> and optional <span class="RktSym">else</span><span class="RktMeta"></span>
conditional or block expression in case if it evaluated to <span class="RktSym">false</span><span class="RktMeta"></span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktPn">if</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">/*</span><span class="hspace">&nbsp;</span><span class="RktCmt">bool</span><span class="hspace">&nbsp;</span><span class="RktCmt">expression</span><span class="hspace">&nbsp;</span><span class="RktCmt">*/</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">/*</span><span class="hspace">&nbsp;</span><span class="RktCmt">expression</span><span class="hspace">&nbsp;</span><span class="RktCmt">Esuccess&gt;</span><span class="hspace">&nbsp;</span><span class="RktCmt">...</span><span class="hspace">&nbsp;</span><span class="RktCmt">*/</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktPn">if</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">/*</span><span class="hspace">&nbsp;</span><span class="RktCmt">bool</span><span class="hspace">&nbsp;</span><span class="RktCmt">expression</span><span class="hspace">&nbsp;</span><span class="RktCmt">*/</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">/*</span><span class="hspace">&nbsp;</span><span class="RktCmt">expression</span><span class="hspace">&nbsp;</span><span class="RktCmt">Esuccess</span><span class="hspace">&nbsp;</span><span class="RktCmt">...*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">else</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">/*</span><span class="hspace">&nbsp;</span><span class="RktCmt">expression</span><span class="hspace">&nbsp;</span><span class="RktCmt">Efail</span><span class="hspace">&nbsp;</span><span class="RktCmt">...</span><span class="hspace">&nbsp;</span><span class="RktCmt">*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktPn">if</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">/*</span><span class="hspace">&nbsp;</span><span class="RktCmt">bool</span><span class="hspace">&nbsp;</span><span class="RktCmt">expression</span><span class="hspace">&nbsp;</span><span class="RktCmt">*/</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">/*</span><span class="hspace">&nbsp;</span><span class="RktCmt">expression</span><span class="hspace">&nbsp;</span><span class="RktCmt">Esuccess</span><span class="hspace">&nbsp;</span><span class="RktCmt">...</span><span class="hspace">&nbsp;</span><span class="RktCmt">*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">else</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">if</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">/*</span><span class="hspace">&nbsp;</span><span class="RktCmt">bool</span><span class="hspace">&nbsp;</span><span class="RktCmt">expression</span><span class="hspace">&nbsp;</span><span class="RktCmt">*/</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">{</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktCmt">/*</span><span class="hspace">&nbsp;</span><span class="RktCmt">...</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">*/</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">}</span><span class="RktMeta"></span></td></tr></table></blockquote><p>There are a few reasons why success and failure expressions can only be block expressions:</p><p>Firstly, it resolves the ambiguity of <span class="RktSym">else</span><span class="RktMeta"></span> branches in the following case (should non-block expressions have been allowed):</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktSym">if</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">condition</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">doSomething</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym">if</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">anotherCondition</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">doSomethingElse</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktSym">else</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">doTheOpposite</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>To which <span class="RktSym">if</span><span class="RktMeta"></span> condition does the <span class="RktSym">else</span><span class="RktMeta"></span> branch belong?</p><p>Secondly, it has been <a href="https://www.imperialviolet.org/2014/02/22/applebug.html">known</a> that <span class="RktSym">if</span><span class="RktMeta"></span> branches without curly brackets can lead
to mispercepted boundaries, so it&rsquo;s best to avoid them.</p><h4>6.11<tt>&nbsp;</tt><a name="(part._.Concurrent_.Expressions)"></a>Concurrent Expressions</h4><p>A concurrent expression is formed by using <span class="RktSym">concurrent</span><span class="RktMeta"></span> expression and a comma-separated list of expressions that are concurrent to
each other.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktPn">concurrent</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">a</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">b</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta">,</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">c</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><p>These expressions are one of the most important building blocks of Run programs as they allow to describe logic that
should happen concurrently, and is a basis for a lot of common workflow patterns.</p><h4>6.12<tt>&nbsp;</tt><a name="(part._.Undo_.Expressions)"></a>Undo Expressions</h4><p>At any time in the code, a <span class="RktSym">to</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">undo</span><span class="RktMeta"></span> expression can be specified
to add a code path that is invoked when the <span class="RktSym">undo</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">to</span><span class="RktMeta"></span> expression is used. Undo expressions are executed concurrently.</p><p>Example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktMeta"></span><span class="RktMeta">book_flight</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">to</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">undo</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">cancel_flight</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">&#160;</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktMeta">book_hotel</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">to</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">undo</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">cancel_hotel</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><h4>6.13<tt>&nbsp;</tt><a name="(part._.Definition_.Expressions)"></a>Definition Expressions</h4><h4>6.14<tt>&nbsp;</tt><a name="(part._.Iteration)"></a>Iteration</h4></div></div><div id="contextindicator">&nbsp;</div></body></html>